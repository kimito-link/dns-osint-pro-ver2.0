# 🧪 動作確認手順

**実装完了日**: 2025年11月8日  
**機能**: アルファベット拡張による関連キーワード取得

---

## ✅ **実装状況確認**

### **ファイル配置**
- ✅ `keyword-expansion.js` - 配置完了（12,603 bytes）
- ✅ `popup.html` - スクリプト読み込み追加済み
- ✅ `popup.js` - イベントリスナー追加済み

---

## 🚀 **動作確認手順**

### **ステップ1: 拡張機能の再読み込み**

```
1. Chrome を開く
2. アドレスバーに入力: chrome://extensions/
3. 右上の「デベロッパーモード」をONにする
4. 「君斗りんくのWEBサイト健康診断」を探す
5. 🔄 リロードボタンをクリック
```

✨ これで新しいコードが読み込まれます！

---

### **ステップ2: 基本動作テスト**

```
1. 適当なWebページを開く（例: https://www.yahoo.co.jp/）
2. 拡張機能アイコンをクリック
3. ドメイン入力欄に「yahoo.co.jp」と入力
4. 「検索」ボタンをクリック
```

**確認ポイント**:
- ✅ 通常のDNS情報が表示される
- ✅ サジェスト情報が表示される
- ✅ 青い拡張ボタンが表示される

---

### **ステップ3: アルファベット拡張テスト**

```
5. サジェスト結果の上部にある青いボタンを探す
   「🚀 関連キーワードをさらに取得（a-z拡張）」
6. このボタンをクリック
```

**期待される動作**:

#### **フェーズ1: 初期化（1秒）**
```
ボタンのテキストが変わる:
「🔄 取得中...」
```

#### **フェーズ2: プログレス表示（3-5秒）**
```
プログレスバーが表示される:
┌─────────────────────────────┐
│ ████████░░░░░░░░░░░░ 40%   │
│ 取得中... 10/26 (j)        │
└─────────────────────────────┘
```

#### **フェーズ3: 結果表示（完了後）**
```
統計情報が表示される:
┌──────────────────────────────────┐
│   347          12        3.5%    │
│ 総キーワード  ネガティブ  ネガ率  │
└──────────────────────────────────┘

タブが表示される:
[すべて (347)] [ネガティブ (12)] [通常 (335)]

キーワードリストが表示される:
• yahoo mail           [🔍 検索]
• yahoo finance        [🔍 検索]
• yahoo news           [🔍 検索]
...
```

---

## 🔍 **詳細確認項目**

### **チェックリスト**

#### **1. ボタン表示**
- [ ] 青いボタンが表示される
- [ ] ボタンのテキストが正しい
- [ ] ボタンがクリック可能

#### **2. プログレスバー**
- [ ] クリック後にプログレスバーが表示される
- [ ] パーセンテージが更新される
- [ ] 現在処理中の文字が表示される（a, b, c...）

#### **3. 結果表示**
- [ ] 統計情報が表示される（総数、ネガティブ数、率）
- [ ] タブが3つ表示される
- [ ] キーワードリストが表示される
- [ ] 各キーワードに検索ボタンが付いている

#### **4. タブ切り替え**
- [ ] 「すべて」タブをクリック → すべてのキーワード表示
- [ ] 「ネガティブ」タブをクリック → ネガティブのみ表示
- [ ] 「通常」タブをクリック → 通常のキーワードのみ表示

#### **5. エクスポート機能**
- [ ] 「📋 すべてコピー」ボタンをクリック → クリップボードにコピーされる
- [ ] 「📊 CSV出力」ボタンをクリック → CSVファイルがダウンロードされる

#### **6. 検索リンク**
- [ ] キーワードの「🔍 検索」ボタンをクリック
- [ ] 新しいタブでGoogle検索が開く
- [ ] 正しいキーワードで検索される

---

## 🐛 **トラブルシューティング**

### **問題1: ボタンが表示されない**

**原因**: スクリプトが読み込まれていない

**解決策**:
```
1. F12キーを押してデベロッパーツールを開く
2. Consoleタブを確認
3. エラーメッセージがないか確認
4. 拡張機能を再読み込み
```

---

### **問題2: クリックしても動かない**

**原因**: イベントリスナーが設定されていない

**確認方法**:
```javascript
// Consoleに以下を入力:
document.getElementById('expandKeywordsBtn')
// → ボタン要素が返ってくればOK
// → null なら HTML生成に問題あり
```

**解決策**:
```
1. ページをリロード
2. 拡張機能を再読み込み
3. Consoleのエラーメッセージを確認
```

---

### **問題3: プログレスバーが表示されない**

**原因**: CSS または HTML生成の問題

**確認方法**:
```javascript
// Consoleに以下を入力:
document.getElementById('expansionProgress')
// → 要素が返ってくればOK
```

**解決策**:
```
ブラウザキャッシュをクリアして再読み込み
```

---

### **問題4: エラーが出る**

**原因**: API呼び出しエラーまたはレート制限

**確認方法**:
```
Consoleで以下を確認:
• "❌ アルファベット拡張エラー" のメッセージ
• ネットワークエラー
• CORS エラー
```

**解決策**:
```
1. インターネット接続を確認
2. 少し待ってから再実行
3. 別のドメインで試す
```

---

## 📊 **期待される結果**

### **成功時の出力例**

#### **Console ログ**
```
🚀 アルファベット拡張開始: yahoo.co.jp yahoo
📊 26パターンで検索開始
📡 [1/26] "yahoo a" 取得中...
📡 [2/26] "yahoo b" 取得中...
...
📡 [26/26] "yahoo z" 取得中...
✅ 拡張完了: 347個のキーワード取得
```

#### **表示される統計**
```
総キーワード数: 300-500個
ネガティブ: 5-20個
ネガティブ率: 2-5%
```

---

## 🎯 **推奨テストドメイン**

### **1. yahoo.co.jp** ⭐⭐⭐⭐⭐
- 最もキーワードが多い
- 動作確認に最適
- 期待: 300-400個

### **2. google.com** ⭐⭐⭐⭐☆
- 国際的なキーワード
- 英語のサジェスト
- 期待: 250-350個

### **3. amazon.co.jp** ⭐⭐⭐⭐☆
- EC関連キーワード
- 商品名が多数
- 期待: 200-300個

### **4. 自社ドメイン** ⭐⭐⭐☆☆
- 実際のユースケース
- ネガティブ検出確認
- 期待: 50-150個

---

## 📸 **スクリーンショット確認**

### **期待されるUI**

```
┌─────────────────────────────────────────┐
│ 🔍 関連キーワード拡張機能              │
│                                         │
│ アルファベット拡張で300+の関連キー...  │
│                                         │
│ ┌───────────────────────────────────┐   │
│ │ 🚀 関連キーワードをさらに取得      │   │
│ │    （a-z拡張）                     │   │
│ └───────────────────────────────────┘   │
└─────────────────────────────────────────┘
```

---

## ✅ **最終確認**

すべてのチェック項目が完了したら：

```
✅ ボタン表示 OK
✅ クリック動作 OK
✅ プログレスバー OK
✅ 結果表示 OK
✅ タブ切り替え OK
✅ エクスポート OK
✅ 検索リンク OK

🎉 実装成功！
```

---

## 🆘 **サポート**

### **問題が解決しない場合**

1. **デベロッパーツール確認**
   - F12キーを押す
   - Consoleタブでエラー確認
   - Networkタブで通信確認

2. **ファイル確認**
   ```bash
   ls -la keyword-expansion.js
   # → 12,603 bytes であること
   ```

3. **manifest.json確認**
   - バージョンが更新されているか
   - 権限が正しく設定されているか

---

## 🎊 **成功したら**

次のステップに進めます：

1. **Phase 2**: 数字拡張（0-9）
2. **Phase 3**: 業種特化キーワード
3. **Phase 4**: DuckDuckGo API追加
4. **Phase 5**: グラフ表示

---

**頑張ってください！🚀**
