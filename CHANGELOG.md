# 📝 変更履歴 (Changelog)

このファイルは、DNS OSINT Pro ver2.0の重要な変更を記録します。

形式は [Keep a Changelog](https://keepachangelog.com/ja/1.0.0/) に基づいています。  
バージョニングは [Semantic Versioning](https://semver.org/lang/ja/) に準拠しています。

---

## [5.2.0] - 2025-10-05

### ✨ 追加
- **サイト名抽出機能の大幅強化**: 医療機関名や施設名を優先的に検出
  - 医療機関: 〜医院、〜クリニック、〜病院、〜診療所など
  - 美容・サロン: 〜サロン、〜美容室、〜エステなど
  - 治療院: 〜整体院、〜接骨院、〜鍼灸院など
  - 飲食店: 〜レストラン、〜カフェ、〜居酒屋など
  - その他: 〜塾、〜ジム、〜法律事務所など

- **サジェストのリンク化**: Google/Yahoo!/Bingの検索結果へワンクリックでアクセス
  - 各サジェスト項目に🔗アイコンを追加
  - クリックすると該当する検索エンジンの検索結果ページを新しいタブで開く

- **口コミサイトリンク**: 主要な口コミサイトへの直接リンクボタンを追加
  - 総合口コミ: Googleマップ、Yahoo!知恵袋、みん評
  - 企業評判: 転職会議、OpenWork、エン ライトハウス、Indeed
  - サジェスト情報セクションに配置

### 🎨 改善
- **パックマンアニメーション**: りんくのサイズを45pxから60pxに拡大
  - バウンドする動きを追加（translateYアニメーション）
  - より目立つ動作で分析中であることを明確化

- **サジェスト表示の改善**:
  - リンクアイコンの追加で各検索エンジンへ直接アクセス可能に
  - レイアウトの最適化
  - 視認性の向上

- **UI/UXの大幅改善**:
  - 口コミサイトボタンのデザイン統一
  - ホバーエフェクトの追加
  - レスポンシブ対応の強化

### 🔧 修正
- サイト名抽出時の法人格除去ロジックを改善
- セパレーター処理の最適化
- エラーハンドリングの強化

### 📝 ドキュメント
- README.mdに「ビジネス利用」セクションを追加
- 風評被害対策サービスへの導線を強化
- スクリーンショットガイドを追加

---
  - 飲食店の検出（〜レストラン、〜カフェ、〜居酒屋等）
  - 教育・スポーツ施設の検出（〜塾、〜スクール、〜ジム等）
  - 専門サービスの検出（〜法律事務所、〜会計事務所等）
  - その他施設の検出（〜ホテル、〜旅館、〜動物病院等）
  - 全角→半角変換機能の追加

- **サジェストのリンク化**:
  - Google検索結果へのリンク追加（サジェストをクリックで検索）
  - Yahoo!検索結果へのリンク追加
  - Bing検索結果へのリンク追加
  - Google検索に「📍 検索した地点での表示です (Yokohama, Kanagawa)」の注意書き追加

- **口コミサイトリンクセクション**:
  - 総合口コミ: Googleマップ、Yahoo!知恵袋、みん評へのリンク
  - 企業評判: 転職会議、OpenWork、エン ライトハウス、Indeedへのリンク
  - 各口コミサイトへのワンクリックアクセス
  - ホバーエフェクト付きボタンデザイン

### 🎨 UI/UX改善
- **パックマンアニメーションの大幅改善**:
  - りんくのサイズを45px→60pxに拡大
  - バウンドする動きを追加（上下に揺れながら移動）
  - アニメーション時間を2.5秒→4秒に延長（よりゆっくり見やすく）
  - ボックスシャドウの強化で立体感向上

- **特別セクションの導入**:
  - サイト健康診断を1列フル幅表示に変更
  - サジェスト風評チェックを1列フル幅表示に変更
  - SEO・風評被害対策セクションを1列フル幅表示に変更
  - 視認性とレイアウトの大幅改善

- **ローディング表示の強化**:
  - ドット付きローディングアニメーション追加
  - より大きく見やすいローディング表示
  - リバースハックロゴの配置改善

### 🔧 改善
- サイト名抽出ロジックの優先順位最適化
- 固有名詞検出の精度向上
- エラーハンドリングの改善
- コードの可読性向上

---

## [5.2.0] - 2025-10-06

### ✨ 追加・改善
- **メールセキュリティチェックの強化**: サイト健康診断の前にSPF/DKIM/DMARCをチェック
- **問題の統合表示**: メールセキュリティ問題を健康診断のマイナス要素に統合
- **相談窓口の改善**: 「早速相談する」スタイルのボタンに変更、メール問題時も表示
- **WordPress詳細情報**: テーマ、プラグイン、PHPバージョンの検出を強化
- **パフォーマンススコア**: 応答速度とページサイズから総合スコアを算出
- **視覚的改善**: キャラクターアイコン付きの見やすいUI

### 🔧 技術的改善
- PHPバージョン検出の精度向上（複数の方法で検出）
- WordPressバージョン検出の精度向上（誤検出を防止）
- RDAP情報取得のCORS回避（background.js経由）

---

## [5.1.0] - 2025-10-05

### ✨ 追加
- **サイト健康診断機能**: りんく、こん太、たぬ姉によるキャラクター案内
  - WordPress検出とバージョン確認
  - SEO分析（タイトル、メタディスクリプション、Canonical、OGP）
  - セキュリティヘッダー診断（X-Frame-Options、HSTS、CSP等）
  - HTTPSリダイレクト確認
  - WWW統一チェック
  - パフォーマンス診断（キャッシュ、圧縮設定）
  - 詳細なエラーメッセージとCORS対応

- **メールセキュリティ診断機能**:
  - SPFレコード検証
  - DKIMレコード検出（一般的なセレクタを自動検索）
  - DMARCレコード検証
  - メールセキュリティリスクの警告表示
  - 設定不備による影響の説明

- **キャラクター案内システム**:
  - りんく（良好な点の説明）
  - こん太（改善点のアドバイス）
  - たぬ姉（深刻な問題の警告）
  - 各キャラクターのアイコン表示

### 🔧 改善
- サジェスト取得のエラーハンドリングを強化
- CORS制限への対応を改善
- タイムアウト処理の追加（10秒）
- より詳細なエラーメッセージ表示
- UI/UXの大幅改善（色分け、視認性向上）

### 🐛 修正
- `popup.js`の`els.companyName.value`参照エラーを修正
- サイト健康診断のタイムアウト問題を解決
- Yahoo!サジェストのCORS制限に対する適切なエラー表示

---

## [5.0.0] - 2025-10-04

### ✨ 追加
- **サジェスト汚染チェック機能**: 
  - Googleサジェスト取得
  - Yahoo!サジェスト取得
  - Bingサジェスト取得
  - ページタイトルからサイト名自動抽出
  - ネガティブキーワード自動検出（25種類以上）
  - 風評被害警告の自動表示
  - キーワードの赤字ハイライト表示

- **サイト名抽出ロジック**:
  - 【公式】【PR】などのプレフィックス除去
  - セパレーター（｜、|、-、・等）による分割
  - 法人格（株式会社、有限会社等）の除去
  - 長すぎる文字列の自動トリミング
  - 略称対応（エイリアス変換）

### 🔧 改善
- `background.js`に複数のサジェストAPI呼び出し機能を追加
- `Promise.allSettled`による並列処理でパフォーマンス向上
- エラーが発生してもすべてのAPIを試行する仕組み

### 📝 ドキュメント
- 風評被害対策のLINE相談リンク追加
- サジェストの説明を追加

---

## [4.0.0] - 2025-10-03

### 🔧 変更
- **Manifest V3への完全移行**
  - `service_worker`を使用したバックグラウンド処理
  - `host_permissions`の適切な設定
  - 非推奨のAPIをすべて削除

### ✨ 追加
- サーバー会社の自動識別機能を大幅拡張
  - 日本のホスティング11社に対応
  - 海外クラウド7社に対応
  - IP範囲からの推定機能
  - ホスト名、NS、MX、レジストラからの推定

### 🎨 改善
- UIを800x600pxに統一
- テーブル表示の改善
- アイコン画像の追加（りんく、こん太、たぬ姉）

---

## [3.0.0] - 2025-09-15

### ✨ 追加
- **WHOIS / RDAP情報取得機能**
  - ドメインRDAP
  - IP RDAP
  - レジストラ情報の表示
  - 登録日・有効期限の表示
  - ドメインステータスの日本語化

- **逆引き（PTR）機能**
  - IPアドレスからホスト名を取得
  - ホスト名からのサーバー推定

### 🔧 改善
- `utils.js`にRDAP関連関数を追加
- エラーハンドリングの改善

---

## [2.0.0] - 2025-09-01

### ✨ 追加
- **DNS情報取得機能**
  - A（IPv4）レコード
  - AAAA（IPv6）レコード
  - MXレコード
  - NSレコード
  - TXTレコード
  - CNAMEレコード

- **DNS over HTTPS (DoH) 対応**
  - Cloudflare DoH APIの使用
  - プライバシー保護されたDNS解決

### 🎨 UI
- ポップアップUIの作成
- テーブル形式での結果表示
- ローディング表示

---

## [1.0.0] - 2025-08-15

### ✨ 初回リリース
- Chrome拡張機能の基本構造
- 現在のタブのドメイン自動取得
- 手動入力によるドメイン検索
- 右クリックメニューからの照会機能

---

## 🔮 予定されている機能（Roadmap）

### [6.0.0] - 予定
- [ ] データエクスポート機能（CSV/PDF）
- [ ] 履歴保存機能
- [ ] 定期チェック機能
- [ ] 変更検知アラート
- [ ] グラフ・チャート表示
- [ ] 競合サイト比較機能

### [7.0.0] - 予定
- [ ] カスタムレポート生成
- [ ] APIキー設定（SecurityTrails等）
- [ ] サブドメイン検索機能強化
- [ ] SSL証明書情報の詳細表示
- [ ] ブックマーク機能

---

## 📋 バージョニングについて

このプロジェクトは [Semantic Versioning](https://semver.org/) を使用しています。

```
MAJOR.MINOR.PATCH

MAJOR: 互換性のない変更
MINOR: 後方互換性のある機能追加
PATCH: 後方互換性のあるバグ修正
```

**例:**
- `5.1.0` → `6.0.0`: Manifest V4への移行（破壊的変更）
- `5.0.0` → `5.1.0`: メールセキュリティ診断機能の追加（機能追加）
- `5.1.0` → `5.1.1`: サジェスト取得のバグ修正（バグ修正）

---

## 🔗 リンク

- [Keep a Changelog](https://keepachangelog.com/ja/1.0.0/)
- [Semantic Versioning](https://semver.org/lang/ja/)
- [GitHub Releases](https://github.com/yourusername/dns-osint-pro-ver2.0/releases)

---

<p align="center">
  Made with ❤️ by Reverse Rebirth Hack Team
</p>
