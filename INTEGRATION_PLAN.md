# 🚀 プロジェクト統合計画

## 📋 プロジェクト概要

### **統合元: Negative-suggestion-checker**
- 名前: サジェスト汚染チェッカー | 逆SEO対策・口コミ管理
- バージョン: v6.3.5
- 特徴: Google/Yahoo/Bingのサジェスト汚染自動検出、100語以上のネガティブキーワード辞書

### **統合先: dns-osint-pro-ver2.0**
- 名前: 君斗りんくのWEBサイト健康診断 & OSINT Helper
- バージョン: v7.3.2
- 特徴: DNS/WHOIS/Wayback/サブドメイン調査 + サジェストチェック + アルファベット拡張

---

## 🎯 統合の目的

1. **2つのプロジェクトの機能を統合**
   - DNS調査機能（dns-osint-pro）
   - サジェスト汚染検出（Negative-suggestion-checker）
   - アルファベット拡張（今回追加）

2. **MCPを活用した高度な分析**
   - コード解析
   - 競合分析
   - リバースエンジニアリング

3. **最強のサジェスト汚染チェッカーを作成**
   - 包括的なキーワード取得
   - 高精度なネガティブ検出
   - 視覚的な分析結果

---

## 📊 機能比較表

| 機能 | Negative-checker | dns-osint-pro | 統合後 |
|------|-----------------|---------------|--------|
| **基本サジェスト取得** | ✅ | ✅ | ✅ |
| **Google Suggest** | ✅ | ✅ | ✅ |
| **Yahoo Suggest** | ✅ | ✅ (0個) | ✅ 改善予定 |
| **Bing Suggest** | ✅ | ✅ | ✅ |
| **アルファベット拡張** | ❌ | ✅ NEW | ✅ |
| **ネガティブキーワード辞書** | ✅ 100語+ | ✅ 20語 | ✅ 100語+ |
| **DNS調査** | ❌ | ✅ | ✅ |
| **WHOIS調査** | ❌ | ✅ | ✅ |
| **サブドメイン列挙** | ❌ | ✅ | ✅ |
| **Wayback調査** | ❌ | ✅ | ✅ |
| **SEO情報取得** | ❌ | ✅ | ✅ |
| **口コミサイトリンク** | ✅ | ✅ | ✅ |
| **CSV出力** | ❌ | ✅ | ✅ |
| **統計表示** | ✅ | ✅ | ✅ 強化 |

---

## 🔄 統合手順

### **Phase 1: コード分析（完了予定: 今日）**
```
✅ Negative-suggestion-checkerの機能調査
✅ ネガティブキーワード辞書の抽出
□ UI/UXの違いを分析
□ 重複機能の特定
```

### **Phase 2: ファイル統合（完了予定: 今日〜明日）**
```
□ negative-keywords.js を統合
□ popup.js の重複機能をマージ
□ background.js のAPI呼び出しロジック統合
□ ui-components.js の優れたコンポーネント移植
```

### **Phase 3: 機能強化（完了予定: 明日）**
```
□ アルファベット拡張 + ネガティブ辞書
□ Yahoo! Suggest 修正
□ 統計情報の強化
□ レポート生成機能
```

### **Phase 4: MCP活用設定（完了予定: 明日）**
```
□ .claude/mcp.json 設定
□ devtools_mcp サーバー設定
□ プロンプトテンプレート作成
□ ドキュメント整備
```

### **Phase 5: テスト & デプロイ（完了予定: 明後日）**
```
□ 統合テスト
□ バグ修正
□ ドキュメント完成
□ リリース
```

---

## 📦 統合するファイル

### **優先度: 高**
1. `negative-keywords.js` - 100語以上のネガティブキーワード辞書
2. `popup.js` - サジェスト表示ロジック
3. `background.js` - API呼び出しロジック
4. `ui-components.js` - UIコンポーネント

### **優先度: 中**
5. `utils.js` - ユーティリティ関数
6. `styles.css` - スタイル定義
7. `link-templates.js` - リンクテンプレート

### **優先度: 低（参考）**
8. ドキュメント類（DEPLOYMENT.md, TESTING_GUIDE.md等）

---

## 🎨 統合後のUI設計

### **タブ構成**
```
┌──────────────────────────────────────┐
│ [診断結果] [SEO情報] [サジェスト分析] │
└──────────────────────────────────────┘
```

### **サジェスト分析タブ（新強化版）**
```
┌─────────────────────────────────────────┐
│ 📊 サジェスト汚染チェック結果            │
├─────────────────────────────────────────┤
│                                         │
│ ⚠️ 警告レベル: 高                       │
│ 🔴 ネガティブキーワード: 18個 / 523個  │
│ 📈 ネガティブ率: 3.4%                   │
│                                         │
│ ┌─────────────────────────────────────┐ │
│ │ 🆘 緊急対応が必要なキーワード        │ │
│ │ • 〇〇 詐欺 (Google, Bing)           │ │
│ │ • 〇〇 やばい (Google)               │ │
│ │ • 〇〇 ブラック (Bing)               │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ [🚀 関連キーワード拡張]                 │
│ [📊 詳細レポート出力]                   │
│ [📧 レポートをメール送信]               │
└─────────────────────────────────────────┘
```

---

## 🔍 MCPプロンプト設計

### **初回起動時プロンプト**
```markdown
# 🎯 サジェスト汚染チェッカー - 現状分析

## 📊 プロジェクト状況

**統合進捗**: Phase X / 5
**完成度**: XX%
**最終更新**: YYYY-MM-DD

## ✅ 実装済み機能
- [x] 基本サジェスト取得
- [x] アルファベット拡張
- [x] ネガティブ検出
- [ ] Yahoo! Suggest修正
- [ ] レポート生成

## 🐛 既知の問題
1. Yahoo! Suggest が0個（CORS問題）
2. ...

## 🎯 次のタスク
1. negative-keywords.js を統合
2. ネガティブ辞書を100語に拡張
3. ...

## 💡 提案
- MCPを使って競合ツール（〇〇）を分析
- XXX機能の追加を検討
- ...
```

---

## 📝 実装メモ

### **統合時の注意点**
1. **変数名の重複**
   - `checkSuggestPollution()` 関数が両方に存在
   - マージ時にリネームまたは統合が必要

2. **APIエンドポイントの違い**
   - Yahoo! Suggest の取得方法が異なる
   - プロキシAPIの有無

3. **UIコンポーネントの違い**
   - Negative-checker: シンプルなUI
   - dns-osint-pro: リッチなUI（りんくキャラクター等）

### **パフォーマンス最適化**
1. **キャッシュ戦略**
   - サジェスト結果を5分間キャッシュ
   - ネガティブ検出結果をセッションキャッシュ

2. **並列処理**
   - Google/Yahoo/Bingを並列で取得
   - アルファベット拡張は100ms間隔で順次実行

3. **エラーハンドリング**
   - 1つのAPIが失敗しても他を続行
   - タイムアウトを適切に設定

---

## 🚀 次のステップ

1. **今日中にやること**
   ```bash
   # 1. negative-keywords.js を移植
   cp Negative-suggestion-checker/negative-keywords.js dns-osint-pro-ver2.0/
   
   # 2. popup.js にネガティブ検出ロジックを統合
   # (手動でマージ)
   
   # 3. テスト
   # Chrome拡張を再読み込みして動作確認
   ```

2. **明日やること**
   - MCPプロンプト設定
   - Yahoo! Suggest修正
   - レポート生成機能追加

3. **明後日やること**
   - 統合テスト
   - ドキュメント整備
   - リリース準備

---

## 📞 サポート

統合中に問題が発生したら：
1. F12でコンソールを確認
2. エラーメッセージをコピー
3. MCPに貼り付けて分析依頼

---

**作成日**: 2025-11-08 23:05
**作成者**: MCP + Cascade
**バージョン**: 1.0
